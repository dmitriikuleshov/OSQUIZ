### Планирование процессов: введение

**Планирование процессов** — это механизм, используемый операционной системой (ОС) для распределения процессорного времени между процессами, находящимися в состоянии готовности (ready state). Оно играет ключевую роль в обеспечении эффективной работы как самого процессора, так и всей системы.

В интерактивных системах (interactive systems) планирование приобретает особое значение, так как главная цель таких систем — минимизация времени отклика для пользователей.

---

### Планирование в интерактивных системах

**Интерактивные системы** — это тип ОС, где пользователь активно взаимодействует с приложениями в реальном времени. Примеры включают настольные операционные системы (Windows, macOS, Linux) и серверные ОС с веб-приложениями.

#### Основные особенности интерактивных систем:

1. **Минимизация времени отклика**: пользователю важно быстро получить результат.
2. **Поддержка множества задач**: система должна одновременно выполнять интерактивные процессы и фоновые задания.
3. **Гибкое управление приоритетами**: интерактивные задачи получают больший приоритет по сравнению с фоновыми задачами.

---

### Циклическое планирование (Round-Robin)

Циклическое планирование — это один из простейших алгоритмов, который широко используется в интерактивных системах.

#### Основные характеристики:

1. **Механизм работы**:

    - Каждому процессу выделяется фиксированный квант времени (time quantum).
    - Если процесс не завершился за этот интервал, он приостанавливается, и управление передается следующему процессу в очереди.
    - Процесс возвращается в очередь на выполнение в конец списка.

2. **Преимущества**:

    - Простота реализации.
    - Равномерное распределение процессорного времени между всеми процессами.
    - Подходит для интерактивных задач, так как процессы быстро переключаются.

3. **Недостатки**:

    - Выбор неподходящего размера кванта времени может снижать эффективность.
        - Слишком маленький квант приводит к частым переключениям контекста (overhead).
        - Слишком большой квант увеличивает время ожидания.

4. **Пример**:
    ```
    Задания: P1 (3 мс), P2 (7 мс), P3 (4 мс)
    Квант времени: 2 мс
    Порядок выполнения:
    - P1 (2 мс) -> P2 (2 мс) -> P3 (2 мс) -> P2 (2 мс) -> P3 (2 мс) -> ...
    ```

Циклическое планирование используется в системах с многозадачностью, например, в настольных ОС (Windows, Linux) для обработки пользовательских приложений.

---

### Приоритетное планирование (Priority Scheduling)

Приоритетное планирование — это алгоритм, в котором процессы ранжируются по приоритету.

#### Основные характеристики:

1. **Механизм работы**:

    - Каждый процесс получает числовой приоритет.
    - Процесс с наивысшим приоритетом выполняется первым.
    - Приоритет может быть:
        - **Статическим** (задается заранее и не изменяется).
        - **Динамическим** (изменяется ОС в зависимости от поведения процесса).

2. **Преимущества**:

    - Позволяет эффективно обрабатывать критически важные задачи.
    - Обеспечивает гибкость, так как интерактивные процессы могут получать больший приоритет.

3. **Недостатки**:

    - **Проблема голодания (starvation)**: процессы с низким приоритетом могут долго оставаться невыполненными.
    - Для решения этой проблемы применяется метод **повышения приоритета со временем (aging)**.

4. **Пример**:
    ```
    Задания: P1 (приоритет 3), P2 (приоритет 1), P3 (приоритет 2)
    Порядок выполнения: P2 -> P3 -> P1
    ```

Приоритетное планирование характерно для ОС, поддерживающих фоновые и интерактивные задачи, таких как Windows NT, где задачи пользователя получают высокий приоритет.

---

### Использование нескольких очередей (Multilevel Queue Scheduling)

Этот алгоритм используется для разделения процессов на разные классы с учетом их типа или приоритета. Каждому классу назначается отдельная очередь.

#### Основные характеристики:

1. **Механизм работы**:

    - Очереди делятся по типу процессов, например:
        - **Интерактивные процессы** (высший приоритет).
        - **Системные процессы**.
        - **Пакетные задания** (низший приоритет).
    - ОС сначала выполняет задачи из очереди с высоким приоритетом.
    - Внутри каждой очереди может применяться свой алгоритм (например, Round-Robin или SJF).

2. **Преимущества**:

    - Позволяет выделять больше ресурсов интерактивным процессам.
    - Гибкость: разные типы задач обрабатываются по-разному.

3. **Недостатки**:

    - Сложность реализации.
    - Процессы из низкоприоритетных очередей могут долго ждать выполнения.

4. **Пример**:
    ```
    Очередь 1 (интерактивные процессы): P1, P2
    Очередь 2 (системные процессы): P3
    Очередь 3 (пакетные задания): P4
    Порядок выполнения: P1 -> P2 -> P3 -> P4
    ```

Этот алгоритм используется в UNIX/Linux-системах, где процессы ядра и пользовательские процессы обрабатываются в разных очередях.

---

### Выбор следующего самого короткого задания (Shortest Job Next, SJN)

Этот алгоритм также известен как **Shortest Job First (SJF)** и ориентирован на минимизацию времени ожидания.

#### Основные характеристики:

1. **Механизм работы**:

    - Среди всех доступных процессов выбирается процесс с минимальным временем выполнения.
    - Алгоритм может быть:
        - **Непрерываемым** (Non-Preemptive): процесс выполняется до конца.
        - **Прерываемым** (Preemptive): если появляется процесс с меньшим временем выполнения, текущий процесс приостанавливается.

2. **Преимущества**:

    - Минимизирует среднее время ожидания.
    - Эффективен для небольших задач.

3. **Недостатки**:

    - Требует точного знания времени выполнения процесса, что не всегда возможно.
    - Процессы с длинным временем выполнения могут оставаться в очереди слишком долго.

4. **Пример**:
    ```
    Задания: P1 (6 мс), P2 (2 мс), P3 (4 мс)
    Порядок выполнения: P2 -> P3 -> P1
    ```

Этот подход характерен для пакетных систем, но может применяться в интерактивных системах для коротких заданий.

---

### Сравнение алгоритмов и их использование

| Алгоритм                      | Применение               | Преимущества                     | Недостатки                                     |
| ----------------------------- | ------------------------ | -------------------------------- | ---------------------------------------------- |
| **Round-Robin**               | Интерактивные системы    | Быстрый отклик, простота         | Высокие накладные расходы                      |
| **Приоритетное планирование** | Критически важные задачи | Эффективное управление ресурсами | Проблема голодания                             |
| **Многоуровневые очереди**    | Разнообразные задачи     | Гибкость и изоляция              | Сложность реализации                           |
| **Shortest Job Next**         | Маленькие задания        | Минимальное время ожидания       | Трудности в прогнозировании времени выполнения |

---

### Заключение

Каждый алгоритм планирования процессов имеет свои сильные и слабые стороны. В интерактивных системах, где важна минимизация времени отклика, обычно используются циклические и приоритетные алгоритмы. Для повышения гибкости применяются многоуровневые очереди, а для обработки коротких заданий — алгоритм выбора самого короткого задания. Реальные операционные системы часто комбинируют несколько алгоритмов для достижения оптимального баланса между производительностью, справедливостью и откликом системы.
