https://studfile.net/preview/5906750/page:4/

### Планирование процессов: Обзор и Введение

Планирование процессов в операционной системе (ОС) Windows — это одна из ключевых составляющих, обеспечивающих стабильную и эффективную работу системы. Оно отвечает за управление доступом к центральному процессору (CPU), распределение задач между процессами и потоками, а также за обеспечение плавной работы многозадачных приложений.

### Основные понятия планирования в Windows

**1. Процесс и поток:**

-   **Процесс** — это экземпляр программы, находящийся в состоянии выполнения. Каждый процесс в Windows имеет:
    -   **Адресное пространство** (виртуальная память)
    -   **Открытые дескрипторы ресурсов (файлы, каналы и т.д.)**
    -   **Минимум один поток**
-   **Поток (thread)** — наименьшая единица выполнения. Потоки в рамках одного процесса разделяют ресурсы (память, файловые дескрипторы), но имеют собственный стек и регистры.

**2. Уровни планирования:**

-   **Краткосрочное планирование (Short-Term Scheduling):**
    -   Определяет, какой поток должен быть запущен в текущий момент времени.
-   **Среднесрочное планирование (Medium-Term Scheduling):**
    -   Отвечает за управление количеством активных процессов (приостановка и возобновление процессов).
-   **Долгосрочное планирование (Long-Term Scheduling):**
    -   Определяет, какие процессы должны быть загружены в память.

**3. Контекстное переключение (Context Switch):**

-   Это процесс сохранения состояния текущего потока и загрузки состояния другого потока.
-   Контекстное переключение в Windows осуществляется через **диспетчер планирования ядра (Kernel Dispatcher)**.

### Планировщик процессов в Windows

**1. Модель планирования в Windows:**

-   Windows использует **приоритетную вытесняющую многозадачность**.
-   Каждый поток имеет определенный **приоритет (priority)**, и планировщик выбирает поток с наивысшим приоритетом.
-   Поддерживается **31 уровень приоритета**, разделенный на два диапазона:
    -   **0-15** — для обычных (пользовательских) процессов.
    -   **16-31** — для потоков реального времени (реагируют немедленно).

**2. Важные концепции планировщика Windows:**

-   **Dynamic Priority Boosting** — система увеличивает приоритет потоков, ожидающих завершения операций ввода-вывода (I/O), чтобы избежать их блокировки.
-   **Quantum (Квант времени):**
    -   Квант времени — это временной интервал, в течение которого поток может выполняться, прежде чем будет вытеснен.
    -   Потоки с более высоким приоритетом получают больший квант времени.
-   **Starvation Protection (Защита от голодания):**
    -   Потокам с низким приоритетом периодически увеличивается приоритет, чтобы гарантировать их выполнение.

### Алгоритмы планирования в Windows

**1. Планирование потоков:**

-   **Round Robin (Циклический алгоритм):**
    -   Используется для потоков с одинаковым приоритетом.
    -   Потоки получают квант времени по очереди.
-   **FIFO (First In, First Out — Первый пришел, первый обслужен):**
    -   Для потоков реального времени.
    -   Поток выполняется, пока не завершится или не уступит управление добровольно.
-   **Multilevel Feedback Queue (Многоуровневая очередь с обратной связью):**
    -   Потоки перемещаются между очередями с разными уровнями приоритета в зависимости от их поведения и времени выполнения.

**2. Планирование процессов реального времени:**

-   Потоки реального времени имеют высший приоритет и выполняются немедленно, вытесняя все пользовательские процессы.
-   Такие процессы используются в критически важных приложениях (например, обработка видео, аудио и промышленные системы управления).

### Контекстное переключение и его влияние

Контекстное переключение — важный аспект планирования в Windows. Оно требует сохранения состояния текущего потока и загрузки состояния другого. Чем чаще происходят переключения, тем больше накладных расходов для системы. Поэтому планировщик Windows стремится минимизировать их количество, используя алгоритмы, ориентированные на выполнение потоков с наибольшим временем простоя.

### Примеры планирования в Windows

**Пример 1: Одновременное выполнение нескольких приложений.**

-   Если два приложения (например, браузер и медиаплеер) работают одновременно, Windows назначает им разные уровни приоритета в зависимости от их типа.
-   Браузер, как интерактивное приложение, получает более высокий приоритет, тогда как медиаплеер, работающий в фоновом режиме, получает более низкий приоритет.

**Пример 2: Прерывание задач реального времени.**

-   Если выполняется поток с приоритетом 24, все пользовательские процессы временно приостанавливаются, пока поток реального времени не завершится.

### Преимущества и недостатки планировщика Windows

**Преимущества:**

-   **Гибкость** — поддержка многозадачности и многопоточности.
-   **Эффективность** — динамическое повышение приоритетов потоков снижает задержки.
-   **Удобство разработки** — разработчики могут явно задавать приоритеты потоков.

**Недостатки:**

-   **Высокая сложность** — сложный механизм динамического управления приоритетами.
-   **Риск голодания потоков** — при неправильной конфигурации потоки с низким приоритетом могут долго не получать процессорное время.

### Заключение

Планирование процессов в Windows — критически важная часть работы ОС, которая обеспечивает баланс между производительностью, откликом системы и справедливым распределением ресурсов. Понимание принципов работы планировщика помогает в разработке приложений, оптимизированных под многозадачные среды.
