### Планирование процессов в пакетных системах

Планирование процессов в пакетных системах — это механизм, обеспечивающий выполнение множества задач, сгруппированных в пакеты, с целью максимизации производительности и минимизации времени выполнения. Пакетные системы в основном применяются в системах обработки данных, таких как серверы, мейнфреймы и суперкомпьютеры, где требуется обработать большое количество заданий без необходимости интерактивного взаимодействия с пользователем.

---

## Особенности пакетных систем

1. **Отсутствие интерактивности**:

    - Пользовательские процессы не требуют немедленного отклика от системы.
    - Все задачи выполняются последовательно или в соответствии с заранее определённым расписанием.

2. **Обработка заданий в группах (пакетах)**:

    - Задания объединяются в пакеты и выполняются одно за другим.
    - Обеспечивается автоматическое выполнение задач без вмешательства пользователя.

3. **Важность времени завершения (Turnaround Time)**:

    - Ключевой характеристикой является минимизация времени выполнения всех заданий в пакете.

4. **Использование приоритетов**:

    - Некоторые задания могут иметь более высокий приоритет, чтобы их выполнение началось раньше.

5. **Ресурсоемкость задач**:
    - Часто такие системы обрабатывают большие объёмы данных и используют ресурсоёмкие операции, такие как вычисления, ввод-вывод или доступ к базам данных.

---

## Условия планирования в пакетных системах

1. **Добавление задач в очередь**:

    - Новые задания помещаются в очередь заданий для обработки.
    - Порядок добавления может зависеть от времени поступления задания или его приоритета.

2. **Освобождение ресурсов**:

    - Когда текущий процесс завершает выполнение, освобождаются процессор, память и другие ресурсы, которые перераспределяются для следующих задач.

3. **Обработка зависимостей**:

    - Некоторые задания могут зависеть от завершения других процессов (например, задания для работы с базами данных).

4. **Очистка очереди**:
    - Завершённые задания удаляются из очереди, освобождая место для новых процессов.

---

## Алгоритмы планирования в пакетных системах

### 1. **FCFS (First-Come, First-Served)**

#### Описание:

-   Задания выполняются в порядке их поступления.
-   Это **непреимущесвенный алгоритм**, где процессор продолжает выполнение текущего задания до его завершения.

#### Где используется:

-   **Ранние пакетные системы**: IBM OS/360, где задания обрабатывались строго по очереди.
-   **Современные серверы для обработки данных**: используется для обработки заданий с равными приоритетами.

#### Пример:

-   Пакет содержит три задания:
    -   **P1**: время выполнения 5 секунд.
    -   **P2**: время выполнения 3 секунды.
    -   **P3**: время выполнения 8 секунд.

Порядок выполнения: **P1 → P2 → P3**.

| Процесс | Время ожидания | Время выполнения | Время завершения |
| ------- | -------------- | ---------------- | ---------------- |
| P1      | 0              | 5                | 5                |
| P2      | 5              | 3                | 8                |
| P3      | 8              | 8                | 16               |

**Среднее время ожидания**: (0 + 5 + 8) / 3 = 4.33 секунды.

#### Преимущества:

-   Простота реализации.
-   Подходит для систем с одинаковыми по сложности задачами.

#### Недостатки:

-   Эффект "конвоя": длинные задачи блокируют выполнение коротких.

---

### 2. **SJF (Shortest Job First)**

#### Описание:

-   Задания с минимальным временем выполнения выбираются первыми.
-   Может быть **непреимущесвенным** или **преимущесвенным**.

#### Где используется:

-   **Научные вычисления**: минимизирует общее время выполнения заданий.
-   **Серверы обработки данных**: применяется, если заранее известна длительность выполнения задач.

#### Пример:

Для тех же заданий (**P1**: 5 секунд, **P2**: 3 секунды, **P3**: 8 секунд).

Порядок выполнения: **P2 → P1 → P3**.

| Процесс | Время ожидания | Время выполнения | Время завершения |
| ------- | -------------- | ---------------- | ---------------- |
| P2      | 0              | 3                | 3                |
| P1      | 3              | 5                | 8                |
| P3      | 8              | 8                | 16               |

**Среднее время ожидания**: (0 + 3 + 8) / 3 = 3.67 секунды.

#### Преимущества:

-   Минимизирует общее время выполнения заданий.

#### Недостатки:

-   Невозможно точно предсказать время выполнения задач.
-   Могут возникать ситуации "голодовки" для долгих задач.

---

### 3. **Priority Scheduling**

#### Описание:

-   Задания обрабатываются в порядке их приоритета.
-   Задания с более высоким приоритетом выполняются первыми.

#### Где используется:

-   **RTOS (Real-Time Operating Systems)**: в задачах реального времени, где критически важные задания требуют немедленного выполнения.
-   **Серверные ОС**: приоритеты назначаются задачам в зависимости от их важности (например, обработка критичных запросов баз данных).

#### Пример:

Пакет заданий с приоритетами:

-   **P1**: приоритет 2, время выполнения 5 секунд.
-   **P2**: приоритет 1, время выполнения 3 секунды.
-   **P3**: приоритет 3, время выполнения 8 секунд.

Порядок выполнения: **P2 → P1 → P3**.

| Процесс | Время ожидания | Время выполнения | Время завершения |
| ------- | -------------- | ---------------- | ---------------- |
| P2      | 0              | 3                | 3                |
| P1      | 3              | 5                | 8                |
| P3      | 8              | 8                | 16               |

#### Преимущества:

-   Эффективно для задач, где есть чёткое разделение важности заданий.

#### Недостатки:

-   Низкоприоритетные задания могут никогда не получить ресурсы (голодовка).

---

### 4. **Multilevel Queue Scheduling**

#### Описание:

-   Задания разделяются на несколько очередей в зависимости от их характеристик (например, приоритета, типа задачи).
-   Каждая очередь обслуживается своим алгоритмом планирования.

#### Где используется:

-   **Серверные ОС (Windows Server, Unix/Linux)**: для управления фоновой обработкой и системными процессами.
-   **Облачные системы**: для распределения ресурсов между типами задач (например, обработка запросов пользователей и системные задачи).

#### Пример:

-   **Очередь 1 (системные процессы)**: Round Robin.
-   **Очередь 2 (пользовательские задачи)**: SJF.
-   **Очередь 3 (фоновые задачи)**: FCFS.

Задания с разными характеристиками распределяются в очереди и выполняются по их алгоритмам.

#### Преимущества:

-   Обеспечивает гибкость и контроль за разными типами задач.

#### Недостатки:

-   Сложность реализации и настройки.

---

## Основные характеристики планирования в пакетных системах

1. **Пропускная способность (Throughput)**:

    - Максимальное число заданий, завершаемых за единицу времени.
    - **Важно**: для серверов и систем пакетной обработки.

2. **Среднее время выполнения (Turnaround Time)**:

    - Время от поступления задания до его завершения.
    - **Важно**: для задач с большими объёмами данных.

3. **Эффективность (Efficiency)**:

    - Использование ресурсов, таких как процессор, память и устройства ввода-вывода.
    - **Важно**: для суперкомпьютеров и серверов.

4. **Справедливость (Fairness)**:
    - Равномерное распределение ресурсов между заданиями.
    - **Важно**: для систем с разнообразными типами задач.

---

Таким образом, выбор алгоритма планирования зависит от требований к производительности и особенностей задачи. В пакетных системах чаще всего используются FCFS, SJF и Priority Scheduling из-за их ориентации на обработку больших объёмов данных.
