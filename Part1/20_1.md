### Планирование процессов: понятие, цели, ключевые аспекты

**Планирование процессов** — это механизм, который определяет, как процессы получают доступ к ресурсам процессора в операционной системе (ОС). Основная цель планирования — обеспечить эффективное использование процессора, минимизировать время отклика, максимизировать пропускную способность и обеспечить справедливое распределение ресурсов между процессами.

#### Основные цели планирования процессов:

1. **Справедливость**: гарантировать, что все процессы имеют равные шансы на выполнение.
2. **Максимизация пропускной способности**: обеспечить выполнение как можно большего числа процессов за единицу времени.
3. **Минимизация времени ожидания**: уменьшить время, которое процесс проводит в очереди на выполнение.
4. **Минимизация времени отклика**: сократить время, которое проходит от момента подачи задачи до момента начала ее выполнения.
5. **Эффективное использование ресурсов**: максимально загружать процессор, избегая его простаивания.

Планирование процессов бывает:

-   **Долгосрочным** (long-term scheduling) — определяет, какие процессы загружаются в память для выполнения.
-   **Среднесрочным** (medium-term scheduling) — управляет процессами, временно выгруженными из памяти (свопинг).
-   **Краткосрочным** (short-term scheduling) — решает, какой из готовых процессов будет запущен процессором в следующем цикле.

---

### Планирование в пакетных системах

Пакетные системы (batch systems) — это системы, которые обрабатывают задания без вмешательства пользователя. Они обычно используются для выполнения вычислительно сложных задач, таких как научные вычисления, обработка данных и финансовые расчеты.

#### Особенности пакетных систем:

1. **Автономная обработка**: задания предоставляются в виде пакета (batch), который система выполняет последовательно.
2. **Отсутствие интерактивного взаимодействия**: пользователь не взаимодействует с системой после передачи задания.
3. **Временная оптимизация**: основная цель — минимизация времени выполнения всех заданий в пакете.
4. **Простая реализация**: системы не требуют сложного интерфейса пользователя.

---

#### Алгоритмы планирования в пакетных системах

Пакетные системы используют несколько типов алгоритмов планирования. Рассмотрим основные:

---

##### 1. **FCFS (First-Come, First-Served, "Первым пришел — первым обслужен")**

-   **Описание**: задания обрабатываются в порядке их поступления.
-   **Преимущества**:
    -   Простота реализации.
    -   Предсказуемое поведение: задания выполняются в строгом порядке очереди.
-   **Недостатки**:
    -   **Проблема "конвоя"** (convoy effect): длинные задания могут блокировать выполнение коротких, что приводит к увеличению времени ожидания для последних.
    -   Низкая эффективность при большом количестве процессов с разной продолжительностью выполнения.
-   **Пример**:
    ```
    Задания: P1 (5 мс), P2 (3 мс), P3 (8 мс)
    Порядок выполнения: P1 -> P2 -> P3
    Среднее время ожидания: (0 + 5 + 8) / 3 = 4.33 мс
    ```

---

##### 2. **SJF (Shortest Job First, "Сначала короткое задание")**

-   **Описание**: сначала выполняются процессы с наименьшим временем выполнения.
-   **Преимущества**:
    -   Минимизация среднего времени ожидания.
-   **Недостатки**:
    -   Неоптимально для длинных процессов: они могут оставаться в очереди слишком долго.
    -   Требуется точная оценка времени выполнения процессов, что не всегда возможно.
-   **Пример**:
    ```
    Задания: P1 (6 мс), P2 (2 мс), P3 (8 мс)
    Порядок выполнения: P2 -> P1 -> P3
    Среднее время ожидания: (0 + 2 + 8) / 3 = 3.33 мс
    ```

---

##### 3. **Priority Scheduling (Планирование по приоритетам)**

-   **Описание**: каждому процессу присваивается приоритет, и процессы с более высоким приоритетом выполняются первыми.
-   **Преимущества**:
    -   Гибкость: позволяет задавать приоритеты для важных процессов.
-   **Недостатки**:
    -   **Проблема голодания** (starvation): низкоприоритетные процессы могут никогда не получить процессорное время.
    -   Для решения этой проблемы используется **повышение приоритета со временем** (aging).
-   **Пример**:
    ```
    Задания: P1 (приоритет 3), P2 (приоритет 1), P3 (приоритет 2)
    Порядок выполнения: P2 -> P3 -> P1
    ```

---

##### 4. **RR (Round-Robin, "Круговой алгоритм")**

-   **Описание**: каждому процессу выделяется квант времени (time quantum). После истечения этого времени процесс приостанавливается, и управление передается следующему в очереди.
-   **Преимущества**:
    -   Хорошо подходит для сред, где требуется равномерное распределение процессорного времени.
    -   Минимизирует проблему голодания.
-   **Недостатки**:
    -   Может приводить к частым переключениям контекста, увеличивая накладные расходы.
-   **Пример**:
    ```
    Задания: P1 (5 мс), P2 (3 мс), P3 (8 мс)
    Квант времени: 2 мс
    Порядок выполнения: P1 (2 мс) -> P2 (2 мс) -> P3 (2 мс) -> P1 (2 мс) -> ...
    ```

---

##### 5. **Multilevel Queue Scheduling (Многоуровневая очередь)**

-   **Описание**: процессы разделяются на несколько очередей на основе их свойств (например, интерактивные процессы и пакетные задания).
-   **Преимущества**:
    -   Позволяет выделять больше ресурсов важным процессам.
-   **Недостатки**:
    -   Сложность реализации.
-   **Пример**:
    ```
    Очередь 1: Интерактивные процессы (высший приоритет)
    Очередь 2: Пакетные задания (низший приоритет)
    ```

---

### Примеры реализации в реальных ОС

1. **UNIX/Linux**:

    - Используют комбинацию SJF и планирования по приоритетам.
    - Для интерактивных процессов используется вариант Round-Robin с динамическим приоритетом.

2. **Windows**:

    - Использует планирование с динамическим приоритетом.
    - Интерактивные приложения получают высокий приоритет.

3. **IBM Mainframe (z/OS)**:
    - Поддерживает сложное планирование для обработки большого числа пакетных заданий.

---

### Заключение

Планирование в пакетных системах ориентировано на максимизацию пропускной способности и минимизацию времени выполнения. Для достижения этих целей используются алгоритмы, подходящие для обработки больших объемов данных без интерактивного вмешательства. Однако выбор алгоритма зависит от конкретных требований и ограничений системы.
